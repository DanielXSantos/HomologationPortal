<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
	layout:decorator="layout/default">

<body>
	<div layout:fragment="content">
		<div class="container">
			<div class="row btn-table">
				<div class="col-md-6 col-md-offset-3">

					<H1 th:utext="${successMessage}"></h1>

					<form autocomplete="off" action="#" th:action="@{/registration}"
						th:object="${user}" method="post" class="form-horizontal"
						role="form">

						<div class="form-group">
							<h2 align="center">Cadastro</h2>
							<label th:if="${#fields.hasErrors('name')}" th:errors="*{name}"
								class="validation-message"></label> <label for="InputName">Nome:</label>
							<input type="text" th:field="*{name}" placeholder="Name"
								class="form-control" />

						</div>

						<div class="form-group">
							<label th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
								class="validation-message"></label> <label for="InputEmail">Email:</label>
							<input type="text" th:field="*{email}" placeholder="Email"
								class="form-control" />

						</div>
						<div class="form-group">

							<label for="InputPassword">Senha:</label> <input type="password"
								th:field="*{password}" placeholder="Password"
								class="form-control" /> <label
								th:if="${#fields.hasErrors('password')}" th:errors="*{password}"
								class="validation-message"></label>

						</div>
 
						<div class="form-group">
							<label for="inputRole">Perfil</label> <select
								th:field="${user.roles}" class="form-control" id="inputRole">
								<option value="" selected="selected">Selecione...</option>
								<option th:each="role: ${user.roles}" th:value="${role.role_id}"
									th:text="${role.role}"></option>
							</select> <span th:if="${#fields.hasErrors('roles')}"
								th:errors="${user.roles}" class="badge badge-danger">erro</span>
						</div>
						
	 					<div class="form-group">
                        <label for="inputFabricante">Fabricante</label>
                        <select th:field="${user.fabricante}" class="form-control" id="inputFabricante">
                            <option value="" selected="selected">Selecione...</option>
                            <option th:each="fabricante : ${fabricantes}" th:value="${fabricante.id}"
                                    th:text="${fabricante.nome}"></option>
                        </select>
                        <span th:if="${#fields.hasErrors('fabricante')}" th:errors="${user.fabricante}"
                              class="badge badge-danger">erro</span>
                    </div>
                    
 
						<div class="form-group">
							<label for="inputActive">Usuario</label> <select
								th:field="${user.active}" class="form-control" id="inputActive">
								<option th:value=true selected="selected">Ativo</option>
								<option th:value=false>Desativado</option>
							</select> <span th:if="${#fields.hasErrors('active')}"
								th:errors="${user.active}" class="badge badge-danger">erro</span>
						</div>

						<div class="form-group">
							<label th:if="${#fields.hasErrors('expirationDate')}"
								th:errors="*{expirationDate}" class="validation-message"></label>
							<label for="inputData">Data de de expiração</label> <input
								type="date" class="form-control" id="inputData"
								th:field="*{expirationDate}" />
						</div>

						<div class="modal-footer">
							<button type="submit" class="btn btn-success">Salvar</button>
							<a th:href="@{/admin}" class="btn btn-danger">Cancelar</a>
						</div>

					</form>
				</div>
			</div>
		</div>
	</div>
</body>
</html>

